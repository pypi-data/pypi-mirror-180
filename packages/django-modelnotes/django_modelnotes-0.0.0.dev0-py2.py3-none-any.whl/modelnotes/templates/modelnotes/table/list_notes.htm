<table class="table table-condensed table-bordered table-striped" data-toggle="table" data-search="true"
       data-flat="true" data-pagination="true" data-show-pagination-switch="true" data-show-columns="true"
       data-show-export="true" data-reorderable-columns="true" data-resizable="false" data-export-types="['excel','csv','txt','sql']">
    <thead>
        <tr>
            <th data-field="title" data-sortable="true">Title</th>
            <th data-field="author" data-sortable="true">Author</th>
            <th data-field="scope" data-sortable="true">Scope</th>
            <th data-field="groups" data-sortable="true">Groups</th>
            <th data-field="permissions" data-sortable="true">Permissions</th>
            <th data-field="attached_to" data-sortable="true">Attached To</th>
            <th data-field="content" data-sortable="true">Content</th>
            <th data-field="updated_at" data-sortable="true">Updated At</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for row in queryset %}
        <tr>
            <td>{{ row.title }}</td>
            <td>{{ row.author }}</td>
            <td>{{ row.scope }}</td>
            <td>{% for group in row.groups.all %}{{ group }}&nbsp; {% endfor %}</td>
            <td>{% for permission in row.public_permissions.all %}{{ permission }}&nbsp; {% endfor %}</td>
            <td>{{ row.content_type }}{% if row.object_repr %}: {{ row.object_repr }}{% endif %}</td>
            <td>{{ row.content }}</td>
            <td>{{ row.updated_at }}</td>
            {# actions #}
            <td>
                <!-- update note -->
                <a href="#" title="update note" role="button" data-toggle="tooltip" data-placement="left" style="text-decoration: none"
                   onClick="UpdateNote('{% url 'modelnotes:update_note' %}?id={{ row.id }}', 'Update Note: <small>{{ row.title }}</small> ', '{{ row.title }}', '{{ row.content }}', '{{ row.scope }}', '{% for permission in row.public_permissions.all %}{{ permission }} {% endfor %}', '{% for group in row.groups.all %}{{ group }} {% endfor %}', 'Update');">
                    <i class="fas fa-edit text-primary mx-1"></i>
                </a>

                <!-- copy note contents -->

                <!-- view note history -->

                <!-- delete note -->
                <a href="#" title="delete note" role="button" data-toggle="tooltip" data-placement="left" style="text-decoration: none"
                   onClick="confirmAction('{% url "modelnotes:delete_note" row.pk %}', 'Delete note', 'This note will be permanently deleted; do you wish to continue?', 'Continue', 'POST');">
                    <i class="fas fa-trash mx-1"></i>
                </a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>


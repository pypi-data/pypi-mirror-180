import{d as I,u as D,r as L,Z as B,c as n,i as N,a as O,C as P,D as U,H as Q,b as p,o,e as u,w as a,g as e,I as V,k as r,_ as w,f as d,L as Z,O as q,S as z,N as A,U as H,Q as K,z as $}from"./index.a71d6c38.js";import{u as j}from"./usePageTitle.6ac38a71.js";const M=I({__name:"FlowRun",setup(E){const i=D(),c=L("Logs"),f=B("flowRunId"),m=n(()=>{const l=["Logs","Task Runs","Subflow Runs","Parameters"];return H.xl||l.push("Details"),l}),_=N(),v=O(_.flowRuns.getFlowRun,[f],{interval:3e4}),s=n(()=>v.response),y=n(()=>{var l;return(l=s.value)==null?void 0:l.deploymentId}),R=P(y);U(f,(l,t)=>{l!==t&&(c.value="Logs")});const k=n(()=>{var l,t;return(t=(l=s.value)==null?void 0:l.parameters)!=null?t:{}}),b=n(()=>{var l,t;return(t=(l=R.value)==null?void 0:l.parameterOpenApiSchema)!=null?t:{}}),g=n(()=>K(k.value,b.value));function h(){i.push($.flowRuns())}const x=n(()=>{var l;return(l=s.value)==null?void 0:l.stateType});Q(x);const F=n(()=>s.value?`Flow Run: ${s.value.name}`:"Flow Run");return j(F),(l,t)=>{const S=p("p-tabs"),T=p("p-layout-well");return o(),u(T,{class:"flow-run"},{header:a(()=>[e(s)?(o(),u(e(V),{key:0,"flow-run-id":e(s).id,onDelete:h},null,8,["flow-run-id"])):r("",!0)]),well:a(()=>[e(s)?(o(),u(e(w),{key:0,"flow-run":e(s),alternate:""},null,8,["flow-run"])):r("",!0)]),default:a(()=>[d(S,{selected:c.value,"onUpdate:selected":t[0]||(t[0]=C=>c.value=C),tabs:e(m)},{details:a(()=>[e(s)?(o(),u(e(w),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),logs:a(()=>[e(s)?(o(),u(e(Z),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),"task-runs":a(()=>[e(s)?(o(),u(e(q),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),"subflow-runs":a(()=>[e(s)?(o(),u(e(z),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),parameters:a(()=>[d(e(A),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{M as default};

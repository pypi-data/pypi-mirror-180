import{n as G,A as K,j as M,d as O,u as $,i as q,a as c,c as r,G as I,r as L,b as F,o as s,e as t,w as i,f as a,g as e,K as Q,h as g,T as W,F as b,M as X,U as C,x as Y,m as Z,k as d,l as y,J as ee,p as se,$ as te,P as oe,q as V,E as ne,s as le,t as ae,v as ue,y as re,z as ce}from"./index.a71d6c38.js";import{u as ie}from"./usePageTitle.6ac38a71.js";class de extends K(M){}const pe=G(new de);const fe={class:"flow-runs__list"},_e={class:"flow-runs__list-controls"},we={class:"flow-runs__list-controls--right"},Re=O({__name:"FlowRuns",setup(x){const S=$(),p=q(),R=c(p.flowRuns.getFlowRunsCount,[{}]),U=r(()=>R.executed),A=r(()=>R.response===0),{filter:f,hasFilters:D,startDate:B,endDate:N,name:_,sort:w}=I(),m={interval:3e4},v=c(p.flowRuns.getFlowRunsCount,[f],m),P=r(()=>v.response),T=c(pe.getFlowRunHistory,[f],m),E=r(()=>{var n;return(n=T.response)!=null?n:[]}),h=c(p.flowRuns.getFlowRuns,[f],m),k=r(()=>{var n;return(n=h.response)!=null?n:[]}),o=L([]);function H(){S.push(ce.flowRuns())}const J=()=>{o.value=[],h.refresh(),v.refresh()};return ie("Flow Runs"),(n,l)=>{const j=F("p-button"),z=F("p-layout-default");return s(),t(z,{class:"flow-runs"},{header:i(()=>[a(e(Q))]),default:i(()=>[e(U)?(s(),g(b,{key:0},[e(A)?(s(),t(e(W),{key:0})):(s(),g(b,{key:1},[a(e(X)),e(C).md?(s(),t(e(Y),Z({key:0,history:e(E)},{startDate:e(B),endDate:e(N)},{class:"flow-runs__chart"}),null,16,["history"])):d("",!0),y("div",fe,[y("div",_e,[y("div",we,[o.value.length==0?(s(),t(e(ee),{key:0,count:e(P),label:"Flow run"},null,8,["count"])):(s(),t(e(se),{key:1,count:o.value.length},null,8,["count"])),a(e(te),{selected:o.value,onDelete:J},null,8,["selected"])]),e(C).md?(s(),t(e(oe),{key:0,modelValue:e(_),"onUpdate:modelValue":l[0]||(l[0]=u=>V(_)?_.value=u:null),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):d("",!0),a(e(ne),{modelValue:e(w),"onUpdate:modelValue":l[1]||(l[1]=u=>V(w)?w.value=u:null)},null,8,["modelValue"])]),a(e(le),{selected:o.value,"onUpdate:selected":l[2]||(l[2]=u=>o.value=u),"flow-runs":e(k)},null,8,["selected","flow-runs"]),e(k).length?d("",!0):(s(),t(e(ae),{key:0},ue({_:2},[e(D)?{name:"actions",fn:i(()=>[a(j,{size:"sm",secondary:"",onClick:H},{default:i(()=>[re(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):d("",!0)]),_:1})}}});export{Re as default};

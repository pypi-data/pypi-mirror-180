import{d as h,u as y,Z as x,i as C,c as a,W as c,H as D,b as p,g as t,o as N,e as B,w as n,f as u,X as S,Y as i,a0 as A,N as F,k as U,U as V,z as Z}from"./index.a71d6c38.js";import{u as z}from"./usePageTitle.6ac38a71.js";const O=h({__name:"TaskRun",setup(H){const k=y(),l=x("taskRunId"),r=C(),f=a(()=>{const s=["Logs","Task Inputs"];return V.xl||s.push("Details"),s}),d=a(()=>l.value?[l.value]:null),R=c(r.taskRuns.getTaskRun,d,{interval:3e4}),e=a(()=>R.response),o=a(()=>{var s;return(s=e.value)==null?void 0:s.flowRunId}),v=a(()=>o.value?[o.value]:null),_=c(r.flowRuns.getFlowRun,v),m=a(()=>{var s;return(s=e.value)!=null&&s.taskInputs?JSON.stringify(e.value.taskInputs,void 0,2):"{}"});function w(){_.refresh(),k.push(Z.flowRun(o.value))}const g=a(()=>{var s;return(s=e.value)==null?void 0:s.stateType});D(g);const I=a(()=>e.value?`Task Run: ${e.value.name}`:"Task Run");return z(I),(s,J)=>{const T=p("p-tabs"),b=p("p-layout-well");return t(e)?(N(),B(b,{key:0,class:"task-run"},{header:n(()=>[u(t(S),{"task-run-id":t(e).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(i),{alternate:"","task-run":t(e)},null,8,["task-run"])]),default:n(()=>[u(T,{tabs:t(f)},{details:n(()=>[u(t(i),{"task-run":t(e)},null,8,["task-run"])]),logs:n(()=>[u(t(A),{"task-run":t(e)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(F),{value:t(m)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):U("",!0)}}});export{O as default};

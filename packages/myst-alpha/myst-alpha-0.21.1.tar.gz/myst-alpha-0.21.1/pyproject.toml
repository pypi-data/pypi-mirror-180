[build-system]
requires = ["flit_core >=3.2,<4"]
build-backend = "flit_core.buildapi"

[project]
name = "myst-alpha"
version = "0.21.1"
description = "This is the official Python library for the Myst Platform."
license = { text = "Apache-2.0" }
classifiers = [
    "Development Status :: 3 - Alpha",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.7",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
]
authors = [{ name = "Myst AI, Inc.", email= "support@myst.ai"}]
readme = "README.md"
requires-python = ">=3.7,<4"
dependencies = [
    "google-auth <2.0.0,>=1.11.0",
    "google-auth-oauthlib <1.0.0,>=0.4.1",
    "urllib3 <2.0.0,>=1.24.3",
    "toml >=0.10.2,<1",
    "httpx >=0.23.0",
    "pydantic >=1.8.2,<2",
    "numpy >=1.18.0,<1.22; python_version == '3.7'", # NumPy dropped support for Python 3.7 in 1.22
    "numpy >=1.18.0,<2; python_version >= '3.8'",
    "pandas >=1.0,<1.4; python_version == '3.7'",  # Pandas dropped support for Python 3.7 in 1.4
    "pandas >=1.0,<2; python_version >= '3.8'",
    "typing-extensions >=3.7.2",
    "importlib-metadata",
]

[tool.flit.module]
name = "myst"

[tool.flit.sdist]
exclude = [
    # Flit does not support recursive globbing. Three levels should suffice.
    "myst/*_test.py",
    "myst/*/*_test.py",
    "myst/*/*/*_test.py",
]

[project.optional-dependencies]
test = [
    "coverage >=5.5",
    "twine >=1.13.0",
    "black >=21.6b0",
    "mypy >=0.910,<1",
    "types-toml >=0.1.3,<2",
    "types-dataclasses >=0.1.5,<2",
    "types-setuptools >=57.0.0,<58",
    "pytest >=6.2.4,<7",
    "pytest-describe >=1.0.0,<2",
    "isort >=5.9.1,<6",
    "tox >=3.24.0,<4",
    "pytest-subtests >=0.5.0,<1",
    "pytest-mock >=3.6.1,<4",
    "openapi-python-client ==0.11.6",
    "typer >=0.3,<1",
    "respx >=0.17.1,<1",
    "pytest-cov >=2.12.1,<3",
]

[tool.black]
line-length = 120
target-version = ["py37", "py38", "py39"]
skip-magic-trailing-comma = true

[tool.isort]
profile = "black"
line_length = 120

[tool.pytest.ini_options]
minversion = "6.0"
testpaths = ["myst"]

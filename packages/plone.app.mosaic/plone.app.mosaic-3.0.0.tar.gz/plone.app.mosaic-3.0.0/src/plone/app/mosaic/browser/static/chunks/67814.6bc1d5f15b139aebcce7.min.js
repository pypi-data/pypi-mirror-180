(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[67814],{67814:function(){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),e=function(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")},r=function(t){return function(n){return-1!==(" "+n.attr("class")+" ").indexOf(t)}},a=function(t,n,e){return function(r){var a=arguments,o=a[a.length-2],i=o>0?n.charAt(o-1):"";if('"'===i)return r;if(">"===i){var c=n.lastIndexOf("<",o);if(-1!==c){var l=n.substring(c,o);if(-1!==l.indexOf('contenteditable="false"'))return r}}return'<span class="'+e+'" data-mce-content="'+t.dom.encode(a[0])+'">'+t.dom.encode("string"==typeof a[1]?a[1]:a[0])+"</span>"}},o=function(t){var o="contenteditable",i=" "+n.trim(function(t){return t.getParam("noneditable_editable_class","mceEditable")}(t))+" ",c=" "+n.trim(e(t))+" ",l=r(i),u=r(c),f=function(t){var n=t.getParam("noneditable_regexp",[]);return n&&n.constructor===RegExp?[n]:n}(t);t.on("PreInit",(function(){f.length>0&&t.on("BeforeSetContent",(function(n){!function(t,n,r){var o=n.length,i=r.content;if("raw"!==r.format){for(;o--;)i=i.replace(n[o],a(t,i,e(t)));r.content=i}}(t,f,n)})),t.parser.addAttributeFilter("class",(function(t){for(var n,e=t.length;e--;)n=t[e],l(n)?n.attr(o,"true"):u(n)&&n.attr(o,"false")})),t.serializer.addAttributeFilter(o,(function(t){for(var n,e=t.length;e--;)n=t[e],(l(n)||u(n))&&(f.length>0&&n.attr("data-mce-content")?(n.name="#text",n.type=3,n.raw=!0,n.value=n.attr("data-mce-content")):n.attr(o,null))}))}))};t.add("noneditable",(function(t){o(t)}))}()}}]);
//# sourceMappingURL=67814.6bc1d5f15b139aebcce7.min.js.map
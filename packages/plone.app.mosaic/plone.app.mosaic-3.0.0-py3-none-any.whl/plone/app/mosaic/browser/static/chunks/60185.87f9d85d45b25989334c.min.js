"use strict";(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[60185],{60185:function(e,a,i){i.r(a),i.d(a,{default:function(){return l}});var s=i(18872),t=i.n(s),o=i(7424),c=i(79277);i(41973);function n(e,a,i){return(a=function(e){var a=function(e,a){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,a||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==typeof a?a:String(a)}(a))in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}o.Z.getLogger("pat-mosaic/layout");class l{constructor(e){n(this,"layout",{widthClasses:["col","col-1","col-2","col-3","col-4","col-5","col-6","col-7","col-8","col-9","col-10","col-11","col-12"],resizeClasses:["mosaic-resize-1","mosaic-resize-2","mosaic-resize-3","mosaic-resize-4","mosaic-resize-5","mosaic-resize-6","mosaic-resize-7","mosaic-resize-8","mosaic-resize-9","mosaic-resize-10","mosaic-resize-11","mosaic-resize-12"],resizeHandleClasses:["mosaic-resize-handle-1","mosaic-resize-handle-2","mosaic-resize-handle-3","mosaic-resize-handle-4","mosaic-resize-handle-5","mosaic-resize-handle-6","mosaic-resize-handle-7","mosaic-resize-handle-8","mosaic-resize-handle-9","mosaic-resize-handle-10","mosaic-resize-handle-11","mosaic-resize-handle-12"]}),this.mosaic=e}getWidthClass(e){for(const a of this.layout.widthClasses)if(t()(e).hasClass(a))return a;return this.layout.widthClasses[0]}getResizeHandleClassId(e){for(let a=0;a<this.layout.resizeHandleClasses.length;a++)if(t()(e).hasClass(this.layout.resizeHandleClasses[a]))return a;return 1}addAppTile(e,a){var i=this;i.mosaic.overlay.modal.$modal&&i.mosaic.overlay.modal.hide(),t().ajax({type:"GET",url:a,success:async function(s){s=i.mosaic.getDomTreeFromHtml(s),i.mosaic.addHeadTags(a,s),await i.addTile(e,s.find(".temp_body_tag").html(),a)}})}async addAppTileHTML(e,a,i){var s,t=this;s=t.mosaic.getDomTreeFromHtml(a),t.mosaic.addHeadTags(i,s),await t.addTile(e,s.find(".temp_body_tag").html(),i)}editAppTile(e){var a=this;a.mosaic.overlay.close(),window.parent.focus(),t().ajax({type:"GET",url:e,success:function(i){i=a.mosaic.getDomTreeFromHtml(i),a.mosaic.removeHeadTags(e),a.mosaic.addHeadTags(e,i);var s=t()(".mosaic-selected-tile .mosaic-tile-content",a.mosaic.document);s.html(i.find(".temp_body_tag").html()),s.attr("data-tileUrl",e.replace(/&/gim,"&amp;"))}})}async addTile(e,a,i){var s=this;s.mosaic.panels.addClass("mosaic-panel-dragging mosaic-panel-dragging-new"),t()(s.mosaic.panels.get(0)).append(t()(s.mosaic.document.createElement("div")).addClass("mosaic-grid-row").append(t()(s.mosaic.document.createElement("div")).addClass("mosaic-grid-cell col").append(t()(s.mosaic.document.createElement("div")).addClass("movable removable mosaic-tile mosaic-"+e+"-tile").append(t()(s.mosaic.document.createElement("div")).addClass("mosaic-tile-content").attr("data-tileUrl",i&&i.replace(/&/gim,"&amp;")).html(a)).addClass("mosaic-helper-tile mosaic-helper-tile-new mosaic-original-tile"))));var o=s.mosaic.panels.find(".mosaic-helper-tile-new"),n=0;s.mosaic.panels.each((function(){t()(this).width()>n&&(n=t()(this).width())})),o.width()<n/4?o.width(n/4):o.width(o.width());var l=new c.Z(s.mosaic,o);await l.initialize(),l.cacheHtml(),l.scanRegistry()}getDefaultValue(e){var a,i;if("IDublinCore-title"===e.name?(a='<h1 class="documentFirstHeading">',i="</h1>"):"IDublinCore-description"===e.name?(a='<p class="documentDescription">',i="</p>"):(a="<div>",i="</div>"),"field"===e.tile_type)switch(e.widget){case"z3c.form.browser.text.TextWidget":case"z3c.form.browser.text.TextFieldWidget":return`${a}${t()("#"+e.id,this.mosaic.document).find("input").attr("value")}${i}`;case"z3c.form.browser.textarea.TextAreaWidget":case"z3c.form.browser.textarea.TextAreaFieldWidget":case"z3c.form.browser.textlines.TextLinesWidget":case"z3c.form.browser.textlines.TextLinesFieldWidget":return`${a}${t()("#"+e.id,this.mosaic.document).find("textarea").val().replace("\\n","<br/>")}${i}`;case"plone.app.z3cform.widget.RichTextFieldWidget":case"plone.app.z3cform.wysiwyg.widget.WysiwygWidget":case"plone.app.z3cform.wysiwyg.widget.WysiwygFieldWidget":case"plone.app.widgets.dx.RichTextWidget":return t()("#"+e.id).find("textarea").val();default:return'<div class="discreet">Placeholder for field:<br/><b>'+e.label+"</b></div>"}return e.default_value}getPageContent(e){var a,i=function(a){var s="";return!1===t()(a).hasClass("mosaic-empty-row")&&t()(a).find(".mosaic-tile").length>=0&&(o=t()(a).attr("class"),s+='      <div class="'+o+'">\n',t()(a).children(".mosaic-grid-cell").each((function(){s+='        <div class="'+t()(this).attr("class")+'">\n',t()(this).children().each((function(){t()(this).hasClass("mosaic-tile")?s+=t()(this).data("mosaic-tile").getHtmlBody(e):t()(this).hasClass("mosaic-innergrid-row")&&(s+=i(this))})),s+="        </div>\n"})),s+="      </div>\n"),s},s="",o="";return s+="  <body>\n",t()("[data-panel]",this.mosaic.document).each((function(){s+='    <div data-panel="'+t()(this).data("panel")+'"',s+='         data-max-columns="'+t()(this).data("max-columns")+'">\n',t()(this).children().each((function(){t()(this).hasClass("mosaic-grid-row")&&(s+=i(this))})),s+="    </div>\n"})),s+="  </body>\n",a='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-layout="'+this.mosaic.options.layout+'">\n',a+=s,a+="</html>\n"}saveLayoutToForm(){var e=t()("#form-widgets-ILayoutAware-customContentLayout, [name='form.widgets.ILayoutAware.customContentLayout']");this.mosaic.hasContentLayout?e.val(""):e.val(this.getPageContent())}init_events(){var e=this;t()(e.mosaic.document).off("keydown").on("keydown",(function(a){if(9===a.keyCode){for(const a of e.mosaic.document.querySelectorAll(".mosaic-selected-tile"))a["mosaic-tile"].blur();var i=document.activeElement.closest(".mosaic-tile");i&&i["mosaic-tile"].focus()}if(18===a.keyCode)if(t()(".mosaic-panel",e.mosaic.document).hasClass("mosaic-advanced"))t()(".mosaic-panel",e.mosaic.document).removeClass("mosaic-advanced");else{var s=new Date;t()(".mosaic-panel",e.mosaic.document).addClass("mosaic-advanced"),t()(".mosaic-panel",e.mosaic.document).data("advanced-enabled",s.getTime())}if(17===a.keyCode&&t()(".mosaic-panel",e.mosaic.document).addClass("inner-subcolumn"),27===a.keyCode){var o=t()(".mosaic-original-tile",e.mosaic.document);o.length>0?o.each((function(){t()(this).addClass("mosaic-drag-cancel"),t()(this).hasClass("mosaic-helper-tile-new")?t()(document).trigger("mousedown"):t()(document).trigger("mouseup")})):t()(".mosaic-selected-tile",e.mosaic.document).each((function(){t()(this).trigger("blur")})),t()(".mosaic-resize-handle-helper",e.mosaic.document).each((function(){t()(this).parents("[data-panel]").removeClass("mosaic-panel-resizing"),t()(this).parent().removeClass("mosaic-row-resizing"),t()(this).parent().children(".mosaic-resize-placeholder").remove(),t()(this).remove()})),e.mosaic.overlay.modal.$modal&&e.mosaic.overlay.modal.hide()}})),t()(e.mosaic.document).off("keyup").on("keyup",(function(a){if(18===a.keyCode){var i=new Date,s=t()(".mosaic-panel",e.mosaic.document).data("advanced-enabled");i.getTime()-s>400&&t()(".mosaic-panel",e.mosaic.document).removeClass("mosaic-advanced")}17===a.keyCode&&t()(".mosaic-panel",e.mosaic.document).removeClass("inner-subcolumn")}));t()(e.mosaic.document).off("mousedown").on("mousedown",(function(a){var i;a.target?i=a.target:a.srcElement&&(i=a.srcElement);var s=t()(".mosaic-helper-tile-new",e.mosaic.document);s.length>0&&s.each((function(){t()(this).mosaicHandleDragEnd()})),t()(i).parents(".mce-content-body, .tox, .modal-wrapper").length>0||0===t()(i).parents(".mosaic-tile").length&&0===t()(i).parents(".mosaic-toolbar").length&&(e.mosaic.document.querySelectorAll(".mosaic-selected-tile").forEach((function(e){e.classList.remove("mosaic-selected-tile"),t()(e).data("mosaic-tile").blur()})),e.mosaic.toolbar.SelectedTileChange())}));var a=function(a){t()(".mosaic-helper-tile-new",e.mosaic.document).each((function(){var e=t()(this).parent().offset();t()(this).css("top",a.pageY+3-e.top),t()(this).css("left",a.pageX+3-e.left)})),t()(".mosaic-resize-handle-helper",e.mosaic.document).each((function(){var i,s=t()(this),o=s.parent(),c=s.data("resize_handle_index"),n=parseFloat(a.pageX-o.offset().left-4),l=Math.round(n/s.data("row_width")*100),r=8,h=8;d().forEach((function(e){(i=Math.abs(e-l))<h&&(r=e,h=i)}));for(var p=function(e){var a=d();for(let i=0;i<a.length;i++)if(e===a[i])return i+1;return 12}(r),u=s.data("column_sizes"),f=0,v=0,g=0;g<u.length;g++)g<c&&(f+=u[g]?u[g]:2),g>c&&(v+=u[g]?u[g]:2);var C=p-f,w=12-f-v;if(C=C>w?w:C<1?1:C,s.data("nr_of_columns")>0){var z=0,y=!1,b=e.layout.resizeClasses.join(" "),E=e.layout.widthClasses.join(" ");o.children(".mosaic-resize-placeholder").each((function(e){if(e===c){u[e]=C;var a=m(C);t()(this).removeClass(E).addClass(a).find(".info").html(C),y=!0}t()(this).removeClass(b).addClass(`mosaic-resize-${z}`),z+=u[e],y&&(t()(".mosaic-resize-handle-helper",o).removeClass(b).addClass(`mosaic-resize-${z}`),y=!1)})),t()(this).data("column_sizes",u)}}))};t()(e.mosaic.document).off("mousemove").on("mousemove",a),t()(e.mosaic.document).off("dragover").on("dragover",a);t()(e.mosaic.document).off("mouseup").on("mouseup",(function(){t()(".mosaic-resize-handle-helper",e.mosaic.document).each((function(){var a=t()(this).data("resize_handle_index");t()(this).parent().parent().mosaicCleanupRow();var i=t()(this).parents("[data-panel]"),s=t()(this).data("column_sizes");t()(this).parent().children(".mosaic-grid-cell").each((function(i){t()(this).removeClass(e.layout.widthClasses.join(" ")).addClass(m(s[i])),t()(this).hasClass("col")||i!==a||t()(this).children(".mosaic-tile").first().children(".mosaic-tile-side-tools").each((function(){var a=t()(this);a.children(".mosaic-tile-label.reset").remove(),a.append(t()(e.mosaic.document.createElement("div")).addClass("mosaic-tile-label reset").append(r(a,s[i])))}))})),i.removeClass("mosaic-panel-resizing"),t()(this).parent().removeClass("mosaic-row-resizing"),t()(this).parent().children(".mosaic-resize-placeholder").remove(),t()(this).parent().mosaicSetResizeHandles();var o=i.find(".mosaic-selected-tile");o.length>0&&o.data("mosaic-tile").select(),t()(this).remove()}))}));var i=function(a){if(!1!==t()(this).parents("[data-panel]").hasClass("mosaic-panel-dragging")&&(t()(".mosaic-selected-divider",e.mosaic.document).removeClass("mosaic-selected-divider"),!1===t()(this).hasClass("mosaic-original-tile")&&!1===t()(this).hasClass("mosaic-tile-align-left")&&!1===t()(this).hasClass("mosaic-tile-align-right"))){var i=t()(this).mosaicGetDirection(a),s=t()(this).children(".mosaic-divider-"+i);if("left"===i||"right"===i){var o=s.parent().parent().parent();if(o.children(".mosaic-grid-cell").filter(((e,a)=>0===t()(a).find(".mosaic-original-tile").length)).length>=t()(".mosaic-panel").data("max-columns"))return;o.children(".mosaic-grid-cell").length>1?(s.height(o.height()+5),s.css("top",o.offset().top-s.parent().offset().top-5)):(s.height(s.parent().height()+5),s.css("top",-5))}s.addClass("mosaic-selected-divider")}};t()(e.mosaic.document).off("mousemove",".mosaic-tile").on("mousemove",".mosaic-tile",i),t()(e.mosaic.document).off("dragover",".mosaic-tile").on("dragover",".mosaic-tile",i),t()(e.mosaic.document).off("click",".mosaic-tile").on("click",".mosaic-tile",(function(a){0===t()(".mosaic-helper-tile-new",e.mosaic.document).length&&t()(this).data("mosaic-tile")&&t()(this).data("mosaic-tile").select()}));t()(e.mosaic.document).on("dblclick",".mosaic-grid-row",(function(e){var a=t()(e.target);if(a.parents("[data-panel]").hasClass("mosaic-advanced")&&a.hasClass("mosaic-grid-row")){if(t()(a).find(".mosaic-set-custom-css").length>0)return;var i=[];t().each(a.attr("class").split(" "),(function(){void 0!==this&&"mosaic-grid-row"!==this&&"mosaic-innergrid-row"!==this&&i.push(this)}));var s=t()("<input type='text' id='custom-css-input-box'></input>").val(i.join(" ")),o=t()("<div></div>").addClass("mosaic-set-custom-css").append(t()("<label>Custom CSS for this row:</label>")).append(s);a.append(o)}})),t()(e.mosaic.document).on("click",(function(e){"custom-css-input-box"!==t()(e.target).attr("id")&&t().each(t()("div.mosaic-set-custom-css"),(function(){var e=t()(this).parent(),a="mosaic-grid-row";e.hasClass("mosaic-innergrid-row")&&(a="mosaic-grid-row mosaic-innergrid-row"),a+=" "+t()(this).find("input#custom-css-input-box").val(),e.attr("class",a),t()(this).remove()}))}))}initialize_panels(){var e=this;e.initJQueryHelpers(),e.init_events();for(var a=e.mosaic.panels.length,i=0;i<a;i++){var s=t()(e.mosaic.panels[i]);if(s.find(".mosaic-tile").each((async function(){var a=new c.Z(e.mosaic,this);await a.initialize()})),s.find(".mosaic-tile").mosaicAddDrag(),s.mosaicAddEmptyRows(),s.children(".mosaic-grid-row").mosaicSetResizeHandles(),i===a-1){var o=0,n=0;e.mosaic.panels.each((function(e){t()(this).width()>o&&(o=t()(this).width(),n=e)}));var l=e.mosaic.panels.eq(n).find(".mosaic-tile:first");l.length>0&&l.data("mosaic-tile").select()}s.find(".mosaic-innergrid-row").each((function(){t()(this).mosaicAddMouseMoveInnergridRow(),t()(this).mosaicSetResizeHandles();var a=t()(this);["top","bottom"].forEach((function(i,s){a.append(t()(e.mosaic.document.createElement("div")).addClass("mosaic-divider mosaic-divider-"+i))}))}))}}initJQueryHelpers(){var e=this,a=e.mosaic.document;t().fn.mosaicAddMouseMoveEmptyRow=function(){return this.each((function(){t()(this).on("mousemove",(function(){t()(this).parents("[data-panel]").hasClass("mosaic-panel-dragging")&&(t()(".mosaic-selected-divider",a).removeClass("mosaic-selected-divider"),t()(this).children("div").addClass("mosaic-selected-divider"))}))}))},t().fn.mosaicAddMouseMoveInnergridRow=function(){return this.each((function(){t()(this).mousemove((function(e){if(t()(this).parents("[data-panel]").hasClass("mosaic-panel-dragging")){t()(".mosaic-selected-divider",a).removeClass("mosaic-selected-divider");var i=t()(this).mosaicGetDirection(e);t()(this).children(".mosaic-divider-"+i).addClass("mosaic-selected-divider")}}))}))},t().fn.mosaicAddEmptyRows=function(){return this.each((function(){t()(this).find(".mosaic-grid-row:not(.mosaic-innergrid-row)").each((function(){t()(this).before(t()(a.createElement("div")).addClass("mosaic-grid-row mosaic-empty-row").append(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(t()(a.createElement("div")).append(t()(a.createElement("div")).addClass("mosaic-tile-outer-border")))).mosaicAddMouseMoveEmptyRow()),0===t()(this).nextAll(".mosaic-grid-row").length&&t()(this).after(t()(a.createElement("div")).addClass("mosaic-grid-row mosaic-empty-row").append(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(t()(a.createElement("div")).append(t()(a.createElement("div")).addClass("mosaic-tile-outer-border")))).mosaicAddMouseMoveEmptyRow())})),0===t()(this).find(".mosaic-grid-row:not(.mosaic-innergrid-row)").length&&t()(this).append(t()(a.createElement("div")).addClass("mosaic-grid-row mosaic-empty-row").append(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(t()(a.createElement("div")).append(t()(a.createElement("div")).addClass("mosaic-tile-outer-border")))).mosaicAddMouseMoveEmptyRow())}))},t().fn.mosaicAddDrag=function(){return this.each((function(){var i=t()(this),s=function(e){var i=t()(".mosaic-helper-tile",a),s=i.parents("[data-panel]").offset();s&&(i.css("top",e.pageY+3-s.top),i.css("left",e.pageX+3-s.left))},o=function(){var e=t()(".mosaic-helper-tile",a);t()(a).off("mousemove",s).off("mouseup",o),e.mosaicHandleDragEnd(),e.remove()};return i.each((function(){i.find("div.mosaic-drag-handle").off("mousedown").on("mousedown",(function(i){var c=i.pageX,n=i.pageY,l=function(i){if(Math.max(Math.abs(c-i.pageX),Math.abs(n-i.pageY))>=1){e.mosaic.panels.addClass("mosaic-panel-dragging"),t()(".mosaic-selected-tile",a).removeClass("mosaic-selected-tile").children(".mosaic-tile-content").trigger("blur");var r=t()(i.target).parents(".mosaic-tile");r.addClass("mosaic-original-tile");var d=r.clone(!0);d.css({width:r.width(),"max-height":"50%",position:"absolute",opacity:.5}).addClass("mosaic-helper-tile"),r.parents("[data-panel]").append(d),t()(a).on("mousemove",s),t()(a).on("mouseup",o),t()(a).off("mousemove",l)}};t()(a).on("mousemove",l),t()(a).on("mouseup",(function(){t()(a).off("mousemove",l)}))}))}))}))},t().fn.mosaicHandleDragEnd=function(){var i=t()(this).parents("[data-panel]");e.mosaic.panels.removeClass("mosaic-panel-dragging mosaic-panel-dragging-new");var s=t()(".mosaic-selected-divider",a),o=s.parent(),c="";for(const e of["top","bottom","left","right"])s.hasClass("mosaic-divider-"+e)&&(c=e);s.removeClass("mosaic-selected-divider");var n=t()(".mosaic-helper-tile-new",a).length>0,l=(d=t()(".mosaic-original-tile",a)).closest(".mosaic-grid-row");(0===s.length||o.hasClass("mosaic-helper-tile"))&&d.addClass("mosaic-drag-cancel");const r=e=>{e.removeClass("mosaic-drag-cancel"),e.removeClass("mosaic-original-tile mosaic-helper-tile mosaic-helper-tile-new mosaic-tile-align-right mosaic-tile-align-left"),e.css({width:"",left:"",top:""}),n||e.addClass("mosaic-new-tile")};if(d.hasClass("mosaic-drag-cancel")||!1===o.hasClass("mosaic-tile")&&!1===o.hasClass("mosaic-innergrid-row")&&!1===o.hasClass("mosaic-empty-row")||o.parent().parent().children(".mosaic-grid-cell").length>=i.data("max-columns")&&("left"===c||"right"===c))r(d);else if(o.hasClass("mosaic-empty-row"))o.removeClass("mosaic-empty-row").attr("class",d.parents(".mosaic-grid-row").first().attr("class")).off("mousemove"),o.children(".mosaic-grid-cell").children("div").remove(),r(d),o.children(".mosaic-grid-cell").append(d);else{if(r(d),i.hasClass("inner-subcolumn")){var d=t()(a.createElement("div")).addClass("mosaic-grid-row mosaic-innergrid-row").append(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(t()(a.createElement("div")).append(t()(a.createElement("div")).addClass("mosaic-innergrid-outer-border"))).append(d)).mosaicAddMouseMoveInnergridRow();for(const e of["top","bottom"])d.append(t()(a.createElement("div")).addClass("mosaic-divider mosaic-divider-"+e))}if("top"===c)o.before(d);else if("bottom"===c)o.after(d);else if("left"===c||"right"===c){var m=o.parent(),h=m.parent();if(1===h.children(".mosaic-grid-cell").length.length){var p=o.prevAll();p.length>0&&(h.before(t()(a.createElement("div")).addClass("mosaic-grid-row").append(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(t()(p.get().reverse()).clone(!0).mosaicAddDrag()))),p.remove());var u=o.nextAll();u.length>0&&(h.after(t()(a.createElement("div")).addClass("mosaic-grid-row").append(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(u.clone(!0).mosaicAddDrag()))),u.remove()),m.removeClass(e.layout.widthClasses.join(" ")).addClass("col"),"left"===c?o.parent().before(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(d)):o.parent().after(t()(a.createElement("div")).addClass("mosaic-grid-cell col").append(d)),h.mosaicSetResizeHandles()}else"left"===c?m.before(t()(a.createElement("div")).addClass("mosaic-grid-cell").append(d)):m.after(t()(a.createElement("div")).addClass("mosaic-grid-cell").append(d)),h.mosaicSetColumnSizes(),h.mosaicSetResizeHandles()}}e.mosaic.panels.find(".mosaic-grid-row:not(:has(.mosaic-tile))").remove(),e.mosaic.panels.find(".mosaic-empty-row").remove(),l.mosaicCleanupRow(),e.mosaic.panels.mosaicAddEmptyRows(),n&&d.length>0&&(d.mosaicAddDrag(),d.data("mosaic-tile").initializeContent(),d.data("mosaic-tile").focus())},t().fn.mosaicSetColumnSizes=function(){return this.each((function(){var a=[],i=t()(this).children(".mosaic-grid-cell"),s=i.length,o=e.layout.widthClasses.join(" ");i.each((function(e){t()(this).removeClass(o);for(var i=Math.floor(12/s),c=12-i*(s-1),n=0;n<s;n++)n===s-1&&(i=c),e===n&&(a.push(i),t()(this).addClass("col"))})),t()(this).data("column_sizes",a)}))},t().fn.mosaicSetResizeHandles=function(){return this.each((function(){t()(this).children(".mosaic-resize-handle").remove();var i=t()(this).children(".mosaic-grid-cell"),s=i.length;if(s<=12){var o=[],c=0,n=0;for(let a=0;a<s;a++){var l=h(e.getWidthClass(i[a]));o.push(l),n+=l,0===l&&(c+=1)}var r=0;c&&(r=(12-n)/c);var d=0;l=0;for(let e=0;e<s;e++)d+=l=o[e]?o[e]:r,t()(this).append(t()(a.createElement("div")).addClass(`mosaic-resize-handle mosaic-resize-handle-${e+1} mosaic-resize-${d}`).data("resize_handle_index",e)),t()(i[e]).data("col_size",l)}t()(this).children(".mosaic-resize-handle").off("mousedown").on("mousedown",(function(){var i=t()(this).parent(),s=i.children(".mosaic-grid-cell"),o=s.length;if(!(o>12)){var c=0,n=[];s.each((function(e){var s=t()(this).data("col_size");n.push(s);var o=t()(a.createElement("div")).addClass(`mosaic-resize-placeholder col-${s} mosaic-resize-${c}`).append(t()(a.createElement("div")).addClass("mosaic-resize-placeholder-inner-border").append(t()(a.createElement("div")).addClass("info").html(s)));i.append(o),c+=s}));var l=e.getResizeHandleClassId(this);return i.append(t()(a.createElement("div")).addClass("mosaic-resize-handle mosaic-resize-handle-helper").addClass(`mosaic-resize-${n[l]}`).data("row_width",i.width()).data("nr_of_columns",o).data("column_sizes",n).data("resize_handle_index",l)),t()(this).parents("[data-panel]").addClass("mosaic-panel-resizing"),i.addClass("mosaic-row-resizing"),t()(".mosaic-selected-tile",a).children(".mosaic-tile-content").trigger("blur"),!1}}))}))},t().fn.mosaicCleanupRow=function(){return this.each((function(){var e=t()(this);if(e.children(".mosaic-grid-cell").each((function(){0===t()(this).children().length&&(t()(this).remove(),e.mosaicSetColumnSizes())})),0===e.find(".mosaic-tile").length){var a=e;if(e.nextAll(".mosaic-grid-row").length>0)e=e.next(".mosaic-grid-row");else{if(!(e.prevAll(".mosaic-grid-row").length>0))return void e.remove();e=e.prev(".mosaic-grid-row")}a.remove()}e.mosaicSetResizeHandles()}))},t().fn.mosaicGetDirection=function(e){var a=parseFloat(t()(this).width()),i=parseFloat(t()(this).height()),s=parseFloat(e.pageX-t()(this).offset().left-a/2),o=parseFloat(e.pageY-t()(this).offset().top-i/2),c=a/2,n=i/2;return s<0?o<0?s/o<-1*c/(-1*n)?"top":"left":s/o<-1*c/n?"left":"bottom":o<0?s/o<1*c/(-1*n)?"right":"top":s/o<c/n?"bottom":"right"}}}var r=function(e,a){var i=document.createElement("a"),s=void 0===a?"":" ("+a+")";return i.href="javascript:",i.textContent="Reset"+s,t()(i).on("click",{el:e},(function(e){e.preventDefault(),e.data.el.parent().parent().removeClass("col-1 col-2 col-3 col-4 col-5 col-6 col-7 col-8 col-9 col-10 col-11 col-12").addClass("col"),e.data.el.parent().parent().parent().mosaicSetResizeHandles(),t()(e.target).parent().remove()})),i};function d(){for(var e=[],a=0;a<99;)e.push(Math.round(a+=8.333333333333334));return e}function m(e){return e?"col-"+e:"col"}function h(e,a){return a=a||"col-",parseInt(e.replace(a,""))||0}}}]);
//# sourceMappingURL=60185.87f9d85d45b25989334c.min.js.map
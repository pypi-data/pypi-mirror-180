(self.webpackChunkplone_mosaic=self.webpackChunkplone_mosaic||[]).push([[84039],{84039:function(){!function(){"use strict";function t(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")}function e(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools");n.add("noneditable",(function(n){!function(n){var r,o="contenteditable",i=" "+a.trim(n.getParam("noneditable_editable_class","mceEditable"))+" ",c=" "+a.trim(t(n))+" ",l=e(i),u=e(c),s=(r=n.getParam("noneditable_regexp",[]))&&r.constructor===RegExp?[r]:r;n.on("PreInit",(function(){0<s.length&&n.on("BeforeSetContent",(function(e){!function(e,n,a){var r=n.length,o=a.content;if("raw"!==a.format){for(;r--;)o=o.replace(n[r],function(t,e,n){return function(a){var r=arguments,o=r[r.length-2],i=0<o?e.charAt(o-1):"";if('"'===i)return a;if(">"===i){var c=e.lastIndexOf("<",o);if(-1!==c&&-1!==e.substring(c,o).indexOf('contenteditable="false"'))return a}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(r[0])+'">'+t.dom.encode("string"==typeof r[1]?r[1]:r[0])+"</span>"}}(e,o,t(e)));a.content=o}}(n,s,e)})),n.parser.addAttributeFilter("class",(function(t){for(var e,n=t.length;n--;)e=t[n],l(e)?e.attr(o,"true"):u(e)&&e.attr(o,"false")})),n.serializer.addAttributeFilter(o,(function(t){for(var e,n=t.length;n--;)e=t[n],(l(e)||u(e))&&(0<s.length&&e.attr("data-mce-content")?(e.name="#text",e.type=3,e.raw=!0,e.value=e.attr("data-mce-content")):e.attr(o,null))}))}))}(n)}))}()}}]);
//# sourceMappingURL=84039.bd81e7e5eedcae854a6a.min.js.map
#!/usr/bin/env python

import argparse
from jamstats.plots import jamplots
from jamstats.io.scoreboard_json_io import load_derby_game_from_json_file
from jamstats.data import json_to_pandas


parser = argparse.ArgumentParser()
parser.add_argument('jsonfile', type=argparse.FileType('r'),
                    help='Scoreboard json file to read')
parser.add_argument('pdffile', type=argparse.FileType('w'),
                    help='PDF file to write')
args = parser.parse_args()

args.pdffile.close()

derby_game = load_derby_game_from_json_file(args.jsonfile.name)

jamplots.save_game_plots_to_pdf(derby_game, args.pdffile.name)
print(f"Wrote {args.pdffile.name}.")

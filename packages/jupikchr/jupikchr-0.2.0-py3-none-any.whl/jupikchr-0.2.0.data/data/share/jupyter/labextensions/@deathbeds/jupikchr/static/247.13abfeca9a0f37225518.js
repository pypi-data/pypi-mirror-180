"use strict";(self.webpackChunk_deathbeds_jupikchr=self.webpackChunk_deathbeds_jupikchr||[]).push([[247],{67:(e,t,n)=>{n.d(t,{U:()=>a});var a,r=n(432);!function(e){e.P_BOX=new r.LabIcon({name:"pikchr:p-box",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g class="jp-icon-brand0 jp-icon-selectable" fill="#0288D1">\n    <path d="M9,7V17H11V13H13A2,2 0 0,0 15,11V9A2,2 0 0,0 13,7H9M11,9H13V11H11V9M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3Z" />\n  </g>\n</svg>\n'}),e.FIT=new r.LabIcon({name:"pikchr:fit",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <g class="jp-icon3 jp-icon-selectable" fill="#616161">\n    <path d="M20,2H4C2.89,2 2,2.89 2,4V20C2,21.11 2.89,22 4,22H20C21.11,22 22,21.11 22,20V4C22,2.89 21.11,2 20,2M20,20H4V4H20M13,8V10H11V8H9L12,5L15,8M16,15V13H14V11H16V9L19,12M10,13H8V15L5,12L8,9V11H10M15,16L12,19L9,16H11V14H13V16" />\n  </g>\n</svg>\n'})}(a||(a={}))},247:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T,markdownPlugin:()=>v});var a=n(122),r=n(835),i=n(331),o=n(530),c=n(79),d=n(449),s=n(18),l=n(432),u=n(888),m=n(679),g=n(67),p=n(458),w=n(342),h=n(923);class k{constructor(e){this.commands=e}createNew(e,t){const n=new r.CommandToolbarButton({commands:this.commands,id:w.TQ.img}),a=new r.CommandToolbarButton({commands:this.commands,id:w.TQ.fit});return e.toolbar.insertItem(8,"img",n),e.toolbar.insertItem(9,"fit",a),new h.DisposableDelegate((()=>{a.dispose(),n.dispose()}))}}let f=null;const v=(0,m.simpleMarkdownItPlugin)(w.NS,{id:"pikchr",title:"pikchr",description:"pikchr diagrams",documentationUrls:{plugin:"https://github.com/deathbeds/jupikchr",pikchr:"https://pikchr.org"},examples:{pikchr:'\n  ```pikchr\n  arrow right 200% "Markdown" "Source"\n  box rad 10px "Markdown" "Formatter" "(markdown.c)" fit\n  arrow right 200% "HTML+SVG" "Output"\n  arrow <-> down 70% from last box.s\n  box same "Pikchr" "Formatter" "(pikchr.c)" fit\n  ```\n          '},plugin:async()=>{if(null!==f)return[f];const{renderPikchrMarkdownIt:e}=await n.e(26).then(n.bind(n,26));return[f=e]}}),M={id:`${w.NS}:widget`,requires:[u.IJupyterWidgetRegistry],autoStart:!0,activate:(e,t)=>{const a={name:w.NS,version:w.q4,exports:async()=>await n.e(346).then(n.bind(n,346))};t.registerWidget(a)}},b={id:`${w.NS}:codemirror`,autoStart:!0,requires:[i.ICodeMirror],activate:async(e,t)=>{const{definePikchrMode:a}=await n.e(582).then(n.t.bind(n,582,23));a(t)}},x={id:`${w.NS}:file`,autoStart:!0,optional:[s.ITranslator,o.IFileBrowserFactory,c.ILauncher,d.IMainMenu,r.ICommandPalette,a.IMimeDocumentTracker],activate:(e,t,n,a,i,o,c)=>{const{commands:d,contextMenu:u}=e,m=(t||s.nullTranslator).load(b.id);function h(){if(!c)return null;const{currentWidget:e}=c;if(!(e&&e instanceof r.MainAreaWidget))return null;const{renderer:t}=e.content;return t&&t instanceof p.RenderedPikchr?t:null}if(d.addCommand(w.TQ.createNew,{label:e=>e.isPalette||e.isContextMenu?m.__("New %1 File",w.A1):m.__("%1 File",w.A1),caption:m.__("Create a new %1 file",w.A1),icon:e=>e.isPalette?void 0:g.U.P_BOX,execute:async e=>{var t,a;const r=null!==(a=null!==(t=e.cwd)&&void 0!==t?t:null==n?void 0:n.defaultBrowser.model.path)&&void 0!==a?a:void 0,i=await d.execute("docmanager:new-untitled",{path:r,type:"file",ext:w.nV});return d.execute("docmanager:open",{path:i.path,factory:w.A1})}}),u.addItem({command:w.TQ.createNew,args:{isContextMenu:!0},selector:w.ux.CONTEXT_SELECTOR,rank:3}),c){d.addCommand(w.TQ.fit,{icon:g.U.FIT,caption:m.__("Toggle fit to container"),execute:async e=>{var t;return null===(t=h())||void 0===t?void 0:t.toggleFit()}}),d.addCommand(w.TQ.img,{icon:l.imageIcon,caption:m.__("Toggle image rendering"),execute:async e=>{var t;return null===(t=h())||void 0===t?void 0:t.toggleImage()}});const t=new k(d);e.docRegistry.addWidgetExtension(w.A1,t)}a&&a.add({command:w.TQ.createNew,category:w.Jx,rank:1}),o&&o.addItem({command:w.TQ.createNew,args:{isPalette:!0},category:w.eo}),i&&i.fileMenu.newMenu.addGroup([{command:w.TQ.createNew}],30)}},T=[v,M,b,x]}}]);
//# sourceMappingURL=247.13abfeca9a0f37225518.js.map?v=13abfeca9a0f37225518
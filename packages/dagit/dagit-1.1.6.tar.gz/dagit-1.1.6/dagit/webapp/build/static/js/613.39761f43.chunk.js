"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[613],{2613:function(n,e,t){t.r(e),t.d(e,{CodeLocationsPage:function(){return L},default:function(){return E}});var i=t(31112),r=t(12745),o=t(32030),a=t(325),s=t(78093),l=t(78072),c=t(19065),d=t(54268),u=t(60652),x=t(11831),f=t(7838),h=t(34595),p=t(89646),m=t(55113),j=t(6466),g=t(63579),y=t(55419),w=t(86562),b=t(17235),v=t(73362),C=t(24971),Z=t(32289),k=function(n){var e=n.repositoryUrl,t=function(n){try{var e,t,i,r=new URL(n);if("github.com"===r.host){var o=r.pathname.split("/",7),a=(0,c.Z)(o,5);e=a[1],t=a[2],i=a[4]}else if("gitlab.com"===r.host){var s=r.pathname.split("/",8),l=(0,c.Z)(s,6);e=l[1],t=l[2],i=l[5]}if(e&&t&&i)return"".concat(e,"/").concat(t,"@").concat(i)}catch(d){return n}return n}(e);return(0,Z.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:[(0,Z.jsx)(C.JO,{color:f.w.Link,name:"link",style:{display:"inline-block",verticalAlign:"middle"}})," ",t]})},I=t(76336),z={showSeconds:!0,showTimezone:!0},_=function(n){var e,t=n.location,i=n.locationOrError,r=a.useState(!1),s=(0,c.Z)(r,2),l=s[0],x=s[1],f=a.useMemo((function(){return(0,b.je)(t)}),[t]),h=(0,b.Dc)({scope:"location",reloadFn:f}),p=h.reloading,m=h.tryReload;return"LOADING"===i.loadStatus?i.locationOrLoadError?(0,Z.jsx)(d.V,{minimal:!0,intent:"primary",children:"Updating..."}):(0,Z.jsx)(d.V,{minimal:!0,intent:"primary",children:"Loading..."}):"PythonError"===(null===(e=i.locationOrLoadError)||void 0===e?void 0:e.__typename)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(o.x,{flex:{alignItems:"center",gap:12},children:[(0,Z.jsx)(d.V,{minimal:!0,intent:"danger",children:"Failed"}),(0,Z.jsx)(u.Z,{onClick:function(){return x(!0)},children:(0,Z.jsx)("span",{style:{fontSize:"14px"},children:"View error"})})]}),(0,Z.jsx)(v.p,{location:t,isOpen:l,error:i.locationOrLoadError,reloading:p,onDismiss:function(){return x(!1)},onTryReload:function(){return m()}})]}):(0,Z.jsx)(d.V,{minimal:!0,intent:"success",children:"Loaded"})},G=function(n){var e=n.location,t=(0,g.TE)().canReloadRepositoryLocation;return t.enabled?(0,Z.jsx)(w.s,{location:e,children:function(n){var e=n.reloading,t=n.tryReload;return(0,Z.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,Z.jsx)(u.Z,{onClick:function(){return t()},children:"Reload"}),e?(0,Z.jsx)(h.$,{purpose:"body-text"}):null]})}}):(0,Z.jsx)(x.u,{content:t.disabledReason,children:(0,Z.jsx)(u.Z,{color:f.w.Gray400,children:"Reload"})})},O=function(){var n=a.useContext(I.C5),e=n.locationEntries;return n.loading&&!e.length?(0,Z.jsxs)(o.x,{flex:{gap:8,alignItems:"center"},padding:{horizontal:24},children:[(0,Z.jsx)(h.$,{purpose:"body-text"}),(0,Z.jsx)("div",{children:"Loading..."})]}):e.length?(0,Z.jsxs)(m.i,{children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:"Code location"}),(0,Z.jsx)("th",{children:"Status"}),(0,Z.jsx)("th",{colSpan:2,children:"Updated"})]})}),(0,Z.jsx)("tbody",{children:e.map((function(n){return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{style:{maxWidth:"50%"},children:(0,Z.jsxs)(j.Z,{direction:"column",spacing:4,children:[(0,Z.jsx)("strong",{children:n.name}),(0,Z.jsx)("div",{children:n.displayMetadata.map((function(n,e){var t="url"===n.key?"source":n.key,i="url"===n.key?(0,Z.jsx)(k,{repositoryUrl:n.value}):n.value;return(0,Z.jsx)("div",{children:(0,Z.jsxs)(r.YS,{style:{wordBreak:"break-word"},children:["".concat(t,": "),(0,Z.jsx)("span",{style:{color:f.w.Gray400},children:i})]})},e)}))})]})}),(0,Z.jsx)("td",{children:(0,Z.jsx)(_,{location:n.name,locationOrError:n})}),(0,Z.jsx)("td",{style:{whiteSpace:"nowrap"},children:(0,Z.jsx)(y.E,{timestamp:{unix:n.updatedTimestamp},timeFormat:z})}),(0,Z.jsx)("td",{style:{width:"180px"},children:(0,Z.jsx)(G,{location:n.name})})]},n.name)}))})]}):(0,Z.jsx)(o.x,{padding:{vertical:32},children:(0,Z.jsx)(p.t,{icon:"folder",title:"No definitions",description:"When you add a code location, your definitions will appear here."})})},T=t(25171),R=t(8851),L=function(){(0,s.Px)();var n=a.useContext(T.N).pageTitle,e=a.useContext(I.C5),t=e.locationEntries,c=e.loading,d=t.length;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(i.m,{title:(0,Z.jsx)(r.X6,{children:n}),tabs:(0,Z.jsx)(R.Z,{tab:"code-locations"})}),(0,Z.jsxs)(o.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},style:{height:"64px"},children:[(0,Z.jsx)(r.pm,{id:"repository-locations",children:c||!d?"Code locations":1===d?"1 code location":"".concat(d," code locations")}),d>1?(0,Z.jsx)(l.i,{}):null]}),(0,Z.jsx)(O,{})]})},E=L},8851:function(n,e,t){t.d(e,{Z:function(){return y}});var i=t(32030),r=t(31269),o=t(325),a=t(19102),s=t(24971),l=t(7838),c=t(13243),d=t(81081),u=t(32289),x=o.memo((function(){var n=o.useContext(c.Z).daemons;return n?(0,u.jsx)(d.a,{content:n.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,u.jsx)(s.JO,{name:"warning",color:l.w.Yellow500})}):null})),f=t(11831),h=t(34595),p=o.memo((function(n){var e=n.placeholder,t=o.useContext(c.Z).codeLocations;return t?"spinner"===t.type?(0,u.jsx)(f.u,{content:t.content,placement:"bottom",children:(0,u.jsx)(h.$,{purpose:"body-text",fillColor:l.w.Gray300})}):(0,u.jsx)(d.a,{content:t.content,position:"bottom",modifiers:{offset:{enabled:!0,options:{offset:[0,28]}}},children:(0,u.jsx)(s.JO,{name:"warning",color:l.w.Yellow500})}):e?(0,u.jsx)("div",{style:{width:"16px"}}):null})),m=t(37286),j=t(25171),g=t(40515),y=function(n){var e=n.refreshState,t=n.tab,s=o.useContext(j.N).healthTitle,l=(0,g._)();return(0,u.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,u.jsxs)(r.mQ,{selectedTabId:t,children:[(0,u.jsx)(m.f,{id:"code-locations",title:"Code locations",to:"/code-locations",icon:(0,u.jsx)(p,{placeholder:!1})}),(0,u.jsx)(m.f,{id:"definitions",title:"Definitions",to:"/definitions"}),(0,u.jsx)(m.f,{id:"health",title:s,to:"/health",icon:(0,u.jsx)(x,{})}),l?(0,u.jsx)(m.f,{id:"config",title:"Configuration",to:"/config"}):null]}),e?(0,u.jsx)(i.x,{padding:{bottom:8},children:(0,u.jsx)(a.xi,{refreshState:e})}):null]})}},40515:function(n,e,t){t.d(e,{_:function(){return s}});var i,r=t(99500),o=t(73701),a=t(3159),s=function(){var n=(0,o.a)(l).data;return!(null===n||void 0===n||!n.instance.hasInfo)},l=(0,a.Ps)(i||(i=(0,r.Z)(["\n  query InstanceConfigHasInfo {\n    instance {\n      hasInfo\n    }\n  }\n"])))},37286:function(n,e,t){t.d(e,{f:function(){return d}});var i=t(95764),r=t(81034),o=t(922),a=t(31269),s=(t(325),t(74549)),l=t(32289),c=["to","title"],d=(0,o.ZP)((function(n){var e=n.to,t=n.title,o=(0,r.Z)(n,c),d=(0,a.xv)(n),u=(0,a.BY)(n),x="string"===typeof t?t:void 0;return(0,l.jsx)(s.rU,(0,i.Z)((0,i.Z)((0,i.Z)({to:e,title:x},d),o),{},{children:u}))})).withConfig({displayName:"TabLink",componentId:"sc-1rmmczd-0"})(["",""],a.gA)},78072:function(n,e,t){t.d(e,{i:function(){return h}});var i=t(19065),r=t(11831),o=t(75453),a=t(24971),s=t(8358),l=t(325),c=t(63579),d=t(12436),u=t(17235),x=t(73362),f=t(32289),h=function(n){var e=n.label,t=void 0===e?"Reload all":e,h=(0,c.TE)().canReloadWorkspace,p=(0,u.Dc)({scope:"workspace",reloadFn:u.rL}),m=p.reloading,j=p.tryReload,g=p.error,y=p.errorLocationId,w=l.useState(!!g),b=(0,i.Z)(w,2),v=b[0],C=b[1];return l.useEffect((function(){return C(!!g)}),[g]),h.enabled?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.zx,{onClick:j,icon:(0,f.jsx)(a.JO,{name:"refresh"}),loading:m,intent:"none",children:t}),y?(0,f.jsx)(x.V,{error:g,location:y,reloading:m,onTryReload:j,onDismiss:function(){return C(!1)},isOpen:v}):(0,f.jsxs)(s.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:v,children:[(0,f.jsx)(s.a7,{children:g&&(0,f.jsx)(d.T9,{error:g})}),(0,f.jsx)(s.cN,{children:(0,f.jsx)(o.zx,{onClick:function(){return C(!1)},children:"Dismiss"})})]})]}):(0,f.jsx)(r.u,{content:h.disabledReason,children:(0,f.jsx)(o.zx,{icon:(0,f.jsx)(a.JO,{name:"refresh"}),disabled:!0,intent:"none",children:t})})}},89646:function(n,e,t){t.d(e,{t:function(){return c}});t(325);var i=t(32030),r=t(7838),o=t(24971),a=t(34595),s=t(12745),l=t(32289),c=function(n){var e=n.title,t=n.description,c=n.icon,d=n.action,u=n.shrinkable,x=1===[e,t,d].filter(Boolean).length;return(0,l.jsxs)(i.x,{flex:{gap:20,alignItems:x?"center":"flex-start"},background:r.w.Gray50,padding:24,style:{margin:"auto",borderRadius:8,width:u?"initial":"max-content",maxWidth:500},children:["spinner"===c?(0,l.jsx)(a.$,{purpose:"section"}):"no-results"===c?(0,l.jsx)(o.JO,{name:"search",size:48,color:r.w.Gray400}):(0,l.jsx)(o.JO,{name:c,size:48,color:r.w.Gray400}),(0,l.jsxs)(i.x,{flex:{gap:8,direction:"column",alignItems:"flex-start"},children:[e&&(0,l.jsx)(s.pm,{style:{color:r.w.Gray900},children:e}),t&&(0,l.jsx)("div",{style:{color:r.w.Gray500},children:t}),d]})]})}},31112:function(n,e,t){t.d(e,{m:function(){return s}});var i=t(922),r=(t(325),t(32030)),o=t(7838),a=t(32289),s=function(n){var e=n.title,t=n.tags,i=n.right,s=n.tabs;return(0,a.jsxs)(l,{background:o.w.Gray50,padding:{top:16,left:24,right:12},border:{side:"bottom",width:1,color:o.w.KeylineGray},children:[(0,a.jsxs)(r.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,a.jsxs)(r.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[e,t]}),i]}),s]})},l=(0,i.ZP)(r.x).withConfig({displayName:"PageHeader__PageHeaderContainer",componentId:"sc-1u8zksn-0"})(["width:100%;.bp3-breadcrumbs{height:auto;}"])},31269:function(n,e,t){t.d(e,{xv:function(){return h},BY:function(){return p},gA:function(){return j},OK:function(){return g},mQ:function(){return y}});var i,r=t(81034),o=t(95764),a=t(99500),s=t(922),l=t(325),c=t(7838),d=t(24971),u=t(8546),x=t(32289),f=["selectedTabId","children","onChange","size"],h=function(n){var e=n.selected,t=n.disabled;return{role:"tab",tabIndex:t?-1:0,"aria-disabled":t,"aria-expanded":e,"aria-selected":e}},p=function(n){var e=n.title,t=n.count,i=n.icon;return(0,x.jsxs)(x.Fragment,{children:[e,i,void 0!==t?(0,x.jsx)(m,{children:"indeterminate"===t?"\u2013":t}):null]})},m=s.ZP.div.withConfig({displayName:"Tabs__Count",componentId:"sc-11fd6a5-0"})(["display:inline;font-family:",";font-size:14px;font-weight:500;letter-spacing:-0.02%;padding:0 4px;color:",";background:",";"],u.b.monospace,c.w.Gray900,c.w.Gray100),j=(0,s.iv)(i||(i=(0,a.Z)(["\n  background: none;\n  border: none;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 600;\n  padding: ",";\n  box-shadow: "," 0 -2px 0 inset;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  gap: 6px;\n\n  &,\n  & a {\n    cursor: pointer;\n    user-select: none;\n    color: ",";\n  }\n\n  & "," {\n    color: ",";\n  }\n\n  /* Focus outline only when using keyboard, not when focusing via mouse. */\n  &:focus {\n    outline: none !important;\n    box-shadow: ","\n      0 -2px 0 inset;\n  }\n\n  &:hover {\n    &,\n    a {\n      text-decoration: none;\n      color: ",";\n    }\n    "," {\n      color: ",";\n    }\n  }\n"])),(function(n){return"small"===n.$size?"10px 0":"16px 0"}),(function(n){return n.selected?c.w.Blue500:"transparent"}),(function(n){var e=n.selected,t=n.disabled;return e?c.w.Blue500:t?c.w.Gray300:c.w.Gray700}),d.a1,(function(n){var e=n.selected,t=n.disabled;return e?c.w.Blue500:t?c.w.Gray300:""}),(function(n){var e=n.selected,t=n.disabled;return e?c.w.Blue500:t?"transparent":c.w.Blue200}),(function(n){var e=n.selected,t=n.disabled;return e?c.w.Blue700:t?c.w.Gray300:c.w.Blue700}),d.a1,(function(n){var e=n.selected,t=n.disabled;return e?c.w.Blue700:t?c.w.Gray300:""})),g=(0,s.ZP)((function(n){var e=h(n),t=p(n),i="string"===typeof n.title?n.title:void 0;return(0,x.jsx)("button",(0,o.Z)((0,o.Z)((0,o.Z)({},n),e),{},{title:i,type:"button",children:t}))})).withConfig({displayName:"Tabs__Tab",componentId:"sc-11fd6a5-1"})(["",""],j),y=(0,s.ZP)((function(n){var e=n.selectedTabId,t=n.children,i=n.onChange,a=n.size,s=void 0===a?"large":a,c=(0,r.Z)(n,f);return(0,x.jsx)("div",(0,o.Z)((0,o.Z)({},c),{},{role:"tablist",children:l.Children.map(t,(function(n){return n?l.cloneElement(n,(0,o.Z)({selected:n.props.selected||n.props.id===e,$size:s},i?{onClick:function(){return i(n.props.id)}}:{})):null}))}))})).withConfig({displayName:"Tabs",componentId:"sc-11fd6a5-2"})(["display:flex;gap:16px;font-size:",";line-height:",";font-weight:600;"],(function(n){return"small"===n.size?"12px":"14px"}),(function(n){return"small"===n.size?"16px":"20px"}))}}]);
//# sourceMappingURL=613.39761f43.chunk.js.map